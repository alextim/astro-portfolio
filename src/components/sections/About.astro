---
export interface Props {
  section: Section;
}

import { Picture } from 'astro-imagetools/components';

import getImagePath from '@/helpers/getImagePath';
import getImageFormats from '@/helpers/getImageFormats';
import PageSection from '../PageSection.astro';

const {
  section: { id, title, subtitle, image, Content },
} = Astro.props as Props;

---
<PageSection id={id} title={title} subtitle={subtitle} classes="bg-light dark:bg-gray-900">
  <div class="about">
    {image?.src && (
      <Picture
        src={getImagePath(image.src)}
        alt={image.alt}
        loading="lazy"
        format={getImageFormats() as unknown as []}
      />
    )}

    <div class="text-justify lg:col-span-2">
      <Content />
    </div>
  </div>
</PageSection>

<style>
  .about {
    @apply grid gap-12 lg:grid-cols-3;

    > :global(.astro-imagetools-picture) {
      @apply mx-auto mb-3;

      :global(img) {
        @apply w-60 h-60 border-round;
      }
    }
  }
</style>
