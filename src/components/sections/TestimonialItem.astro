---
export interface Props {
  item: SectionItem;
}

import Image from 'astro-imagetools';
import getImagePath from '@/helpers/getImagePath';
import getImageFormats from '@/helpers/getImageFormats';

const {
  item: { title, subtitle, content, image },
} = Astro.props as Props;
---

<li class="testimonial-item">
  {image?.src && (
    <Image src={getImagePath(image.src)} alt={image?.alt || title || content} caption={image.caption} format={getImageFormats() as unknown as []}/>
  )}
  <p>{content}</p>
  <div class="mt-4 text-sm before:content-['-']">
    {title}{subtitle && <cite>{`, ${subtitle}`}</cite>}
  </div>
</li>

<style is:global>
  .testimonial-item {
    @apply text-center;

    .astro-imagetools-picture {
      @apply mb-3;

      img {
        @apply w-56 h-56 mx-auto border-round;
      }
    }
  }
</style>
